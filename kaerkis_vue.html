<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://unpkg.com/vue"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <style>
        body {
            background-color: rgb(58, 58, 58);
            color: rgb(184, 185, 169);
        }
    </style>
</head>

<body>
    <div id="app-1">
        <table>
            <tr>
                <th>spiller ID</th>
                <th>fornavn</th>
            </tr>
            <tr v-for="spiller in spiller">
                <td>{{ spiller.SpillerID }}</td>
                <td>{{ spiller.SpillerFornavn }}</td>
            </tr>
        </table>
        <hr>
        <table>
            <tr>
                <th>resultat ID</th>
                <th>omgang</th>
                <th>spiller</th>
                <th>poeng</th>
            </tr>
            <tr v-for="resultat in resultat">
                <td>{{ resultat.ResultatID }}</td>
                <td>{{ resultat.ResOmgRef }}</td>
                <td>{{ resultat.ResSpillerRef }}</td>
                <td>{{ resultat.ResPoeng }}</td>
            </tr>
        </table>
    </div>


    <script>
        var app1 = new Vue({
            el: "#app-1",

            data: {
                spiller: [],
                resultat: [],
                spillerNew: {

                }
            },

            created:
                function () {
                    this.readSpillerViaREST();
                    this.readResultatViaREST()
                },

            methods: {
                readSpillerViaREST: function () {
                    axios.get("http://localhost/bjornagain/carcscores/spiller/read.php")
                        .then(response => { this.spiller = response.data.spiller })
                    // .then(response => console.log(response))
                },

                createSpillerViaREST: function (spillerNew) {
                    axios.post("http://localhost/bjornagain/carcscores/spiller/create.php", {
                        SpillerFornavn: spillerNew.SpillerFornavn,
                    })
                },

                readOmgangerViaREST: function () {
                    axios.get("http://localhost/bjornagain/carcscores/omgang/read.php")
                        .then(response => { this.omganger = response.data.omganger })
                },

                createOmgangerViaREST: function (omgangNew) {
                    axios.post("http://localhost/bjornagain/carcscores/omgang/create.php", {
                        OmgangID: omgangNew.OmgangID,
                    })
                },

                readResultatViaREST: function () {
                    axios.get("http://localhost/bjornagain/carcscores/resultat/read.php")
                        .then(response => { this.resultat = response.data.resultat })
                    //.then(response => console.log(response.data.resultat))
                },

                createResultaterViaREST: function () {

                }
            }
        }

        );



    </script>

</body>

</html>